### web日志格式解析

>详情可见:https://blog.csdn.net/newhappy2008/article/details/7604956

这里我们以apache服务器的标准报文为例来简单介绍web报文。
<br>标准的apache服务器日志包括9个部分。
```html
181.29.171.218 - - [30/Jan/2019:06:26:21 +0800] "GET /phpmyadmin/index.php?lang=en&pma_username=root&pma_password=webs HTTP/1.1" 200 12042 "-" "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36"
```
1. 第一部分为IP，是客户端的IP地址，可以用于攻击溯源。
2. 第二部分和第三部分为连接者的email和提供的用户名，这两部分属于旧时代产物，如今一般都是-，表示没有，这两部分对于检测安全威胁也无多大作用。第四部分为访问日期，对确定威胁也有一定作用。
3. 第五部分为请求报文的首部，包括请求的方法，请求的资源，使用的协议三块内容，请求方法和资源这两部分非常重要，经常能确定是否存在威胁，甚至能确定攻击种类。
4. 第六部分为状态码，状态码也能反应一些问题，如果出现大量的404，很可能是在进行目录爆破。
5. 第七部分为服务器发给用户的数据的长度，在存在威胁的日志中，如果某种攻击成功了，一般数据长度会与之前不同。
6. 第八部分为用户当前的位置，一般的话，如果位置为空，且访问量大，很可能是潜在威胁。
7. 第九部分为用户使用的代理，一些扫描软件的代理都比较特殊，比如一款名为zmeu的扫描工具其user-agent为zmeu。
